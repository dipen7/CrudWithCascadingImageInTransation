@model DipendraManandhar.ViewModel.InterviewIndexVM

@{
    ViewBag.Title = "InterviewIndex";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
<div class="row">
    <h2>InterviewIndex</h2>
    <a href="/home/interviewAdd/0">
        <input type="button" class="btn btn-primary pull-right" value="Add New">
    </a>
</div>
@ViewBag.message
<style>
    .deletelink {
        color: red;
    }
</style>
<div class="row">
    <table class="table table-responsive">
        <thead>
            <tr>
                <th>Country</th>
                <th>State</th>
                <th>Photo</th>
                <th>Name</th>
                <th>Email</th>
                <th>Hobby</th>
                <th>Opt Selected</th>
                <th>Message</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.indexlist)
            {
            <tr>
                <td>@(item.Country==null?"":Model.CountryList.Where(x=>x.Id==item.Country).FirstOrDefault().Name)</td>
                <td>@(item.Country == null ? "" : Model.StateList.Where(x => x.Id == item.State).FirstOrDefault().StateName)</td>
                <td><img src="@string.Format("../../Image/{0}",item.Photolink)" width="114px"/></td>
                <td>@item.FirstName @item.LastName</td>
                <td>@item.Email</td>
                <td>@(@item.Hobby == null ? "" : item.Hobby.Substring(1))</td>
                <td>@Model.droplist.Where(c => c.Id == item.DropDown).FirstOrDefault().DropName</td>
                <td>@item.Message</td>
                <td>
                    <a href="@String.Format("/home/interviewAdd/{0}",item.Id)" title="Edit">
                        <svg width="14" height="14" viewBox="0 0 512 512" style="fill:blue">
                            <path fill="#000" d="M846.183 420.811l-361.159 361.586-83.378-83.378 361.347-361.398 83.19 83.19zM868.797 398.17l-83.178-83.178 55.274-55.282c12.523-12.525 32.766-12.428 45.33 0.102l37.754 37.65c12.541 12.506 12.633 32.815 0.153 45.309l-55.334 55.399zM380.919 723.546l79.851 79.851-100.317 19.755 20.465-99.606zM704 352v-95.885c0-35.41-28.51-64.115-63.918-64.115h-32.083c0 0.052 0 0.104 0 0.156v31.688c0 35.551-28.693 64.156-64.088 64.156h-287.823c-35.495 0-64.088-28.724-64.088-64.156v-31.688c0-0.052 0-0.104 0-0.156h-32.083c-35.301 0-63.918 28.472-63.918 64.115v671.77c0 35.41 28.51 64.115 63.918 64.115h480.165c35.301 0 63.918-28.472 63.918-64.115v-319.885l242.563-242.563c25.094-25.094 25.155-65.719 0.309-90.565l-37.744-37.744c-24.924-24.924-65.199-25.057-90.565 0.309l-114.563 114.563zM320 160v-32.067c0-35.189 28.724-63.933 64.156-63.933h31.688c35.551 0 64.156 28.624 64.156 63.933v32.067h64.142c17.624 0 31.858 14.312 31.858 31.967v32.067c0 17.801-14.264 31.967-31.858 31.967h-288.283c-17.624 0-31.858-14.312-31.858-31.967v-32.067c0-17.801 14.264-31.967 31.858-31.967h64.142zM400 160c8.837 0 16-7.163 16-16s-7.163-16-16-16c-8.837 0-16 7.163-16 16s7.163 16 16 16v0z"></path>
                        </svg>
                    </a>
                    <a href="@String.Format("/home/Viewinterview/{0}",item.Id)" title="View">
                        <svg width="14" height="14" viewBox="0 0 512 512" style="fill:blue">
                            <path d="M256 96c-111.659 0-208.441 65.021-256 160 47.559 94.979 144.341 160 256 160 111.656 0 208.438-65.021 256-160-47.558-94.979-144.344-160-256-160zM382.225 180.852c30.081 19.187 55.571 44.887 74.717 75.148-19.146 30.261-44.637 55.961-74.718 75.148-37.797 24.109-81.445 36.852-126.224 36.852-44.78 0-88.429-12.743-126.226-36.852-30.079-19.186-55.569-44.886-74.716-75.148 19.146-30.262 44.637-55.962 74.717-75.148 1.959-1.25 3.938-2.461 5.93-3.65-4.98 13.664-7.705 28.411-7.705 43.798 0 70.691 57.308 128 128 128s128-57.309 128-128c0-15.387-2.726-30.134-7.704-43.799 1.989 1.189 3.969 2.401 5.929 3.651v0zM256 208c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.491 48 48z"></path>
                        </svg>
                    </a>
                    <a href="@String.Format("/home/delete/{0}",item.Id)" data-val="@item.Id" title="Delete" class="deletelink">
                        <svg width="14" height="14" viewBox="0 0 512 512" style="fill:red">
                            <path d="M256 0c-141.385 0-256 114.615-256 256s114.615 256 256 256 256-114.615 256-256-114.615-256-256-256zM256 464c-114.875 0-208-93.125-208-208s93.125-208 208-208 208 93.125 208 208-93.125 208-208 208z"></path>
                            <path d="M336 128l-80 80-80-80-48 48 80 80-80 80 48 48 80-80 80 80 48-48-80-80 80-80z"></path>
                        </svg>
                    </a>
                </td>
            </tr>
            }
        </tbody>
    </table>
</div>
@section scripts{
    <script type="text/javascript">
        $('.deletelink').click(function (e) {
            if (!confirm("Sure to delete!!!")) {
                e.preventDefault();
                return;
            }
            else
            {
                var a = $(this).data('val');
                console.log(a);
                debugger;
                e.preventDefault();
                $.post("/home/delete",
                    {
                        id: a
                    },
                    function (data, status) {
                        alert("\nStatus: " + status);
                    });
                return;
            }
        });
    </script>
    }